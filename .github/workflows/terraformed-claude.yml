# This workflow is managed by terraform-github
# Source: https://github.com/carta/terraform-github/blob/main/carta/tf/workflow_files.tf
# DO NOT EDIT THIS FILE DIRECTLY - changes will be overwritten by Terraform
#
# To modify workflow behavior, update the reusable workflow at:
# https://github.com/carta/.github/blob/main/.github/workflows/claude-code-assistant.yml

name: Claude Assistant

on:
  pull_request:
    types: [opened, synchronize, ready_for_review]
  issue_comment:
    types: [created]
  pull_request_review_comment:
    types: [created]
  pull_request_review:
    types: [submitted]
  issues:
    types: [opened, assigned]
  workflow_dispatch:
    inputs:
      pr_number:
        description: 'PR number to review (optional - auto-detects from branch if not provided)'
        required: false
        type: number

jobs:
  claude:
    uses: carta/.github/.github/workflows/claude-code-assistant.yml@main
    # secrets: inherit is GitHub's recommended pattern for reusable workflows
    # The reusable workflow can only access secrets that exist in this repo
    # See: https://docs.github.com/en/actions/using-workflows/reusing-workflows#using-inputs-and-secrets-in-a-reusable-workflow
    secrets: inherit
